{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\anton\\\\source\\\\repos\\\\PortfolioTracker\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/app-data.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/autocomplete\";\nimport * as i8 from \"@angular/material/core\";\n\nfunction AssetsComponent_div_0_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"td\")(16, \"mat-icon\", 21);\n    i0.ɵɵtext(17, \"edit\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const asset_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asset_r7.assetId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asset_r7.portfolioId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asset_r7.symbol);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asset_r7.units);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 6, asset_r7.livePrice));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 8, asset_r7.liveTotal));\n  }\n}\n\nfunction AssetsComponent_div_0_mat_option_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const symbol_r8 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", symbol_r8);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", symbol_r8, \" \");\n  }\n}\n\nfunction AssetsComponent_div_0_form_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 23, 24);\n    i0.ɵɵlistener(\"ngSubmit\", function AssetsComponent_div_0_form_36_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n\n      const _r10 = i0.ɵɵreference(6);\n\n      const _r12 = i0.ɵɵreference(16);\n\n      const _r13 = i0.ɵɵreference(21);\n\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return ctx_r14.updateAsset(ctx_r14.portfolioId, +_r10.value, _r12.value, +_r13.value);\n    });\n    i0.ɵɵelementStart(2, \"div\", 19)(3, \"label\", 25);\n    i0.ɵɵtext(4, \"Asset Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 26, 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\")(8, \"label\", 28);\n    i0.ɵɵtext(9, \"Portfolio Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"input\", 29, 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\")(13, \"label\", 31);\n    i0.ɵɵtext(14, \"Symbol\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 32, 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\")(18, \"label\", 33);\n    i0.ɵɵtext(19, \"Units\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"input\", 34, 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 35);\n    i0.ɵɵtext(23, \"Modify Asset\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function AssetsComponent_div_0_form_36_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r15);\n\n      const _r10 = i0.ɵɵreference(6);\n\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return ctx_r16.deleteAsset(ctx_r16.portfolioId, +_r10.value);\n    });\n    i0.ɵɵtext(25, \"Delete Asset\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.updatedAsset.assetId);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.updatedAsset.portfolioId);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.updatedAsset.symbol);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.updatedAsset.units);\n  }\n}\n\nfunction AssetsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"table\", 5)(4, \"thead\")(5, \"tr\")(6, \"th\", 6);\n    i0.ɵɵtext(7, \"Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 6);\n    i0.ɵɵtext(9, \"PortfolioId\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 7);\n    i0.ɵɵtext(11, \"Symbol\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 6);\n    i0.ɵɵtext(13, \"Units\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 6);\n    i0.ɵɵtext(15, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 6);\n    i0.ɵɵtext(17, \"Total\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"th\", 6);\n    i0.ɵɵtext(19, \"Modify\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"tbody\");\n    i0.ɵɵtemplate(21, AssetsComponent_div_0_tr_21_Template, 18, 10, \"tr\", 8);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(22, \"div\", 9)(23, \"div\", 10)(24, \"form\", 11);\n    i0.ɵɵlistener(\"ngSubmit\", function AssetsComponent_div_0_Template_form_ngSubmit_24_listener() {\n      i0.ɵɵrestoreView(_r18);\n\n      const _r2 = i0.ɵɵreference(27);\n\n      const _r5 = i0.ɵɵreference(32);\n\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.postAsset(ctx_r17.portfolioId, _r2.value, +_r5.value);\n    });\n    i0.ɵɵelementStart(25, \"mat-form-field\");\n    i0.ɵɵelement(26, \"input\", 12, 13);\n    i0.ɵɵelementStart(28, \"mat-autocomplete\", null, 14);\n    i0.ɵɵtemplate(30, AssetsComponent_div_0_mat_option_30_Template, 2, 2, \"mat-option\", 15);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(31, \"input\", 16, 17);\n    i0.ɵɵelementStart(33, \"button\", 18);\n    i0.ɵɵtext(34, \"Add Asset\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(35, \"div\", 19);\n    i0.ɵɵtemplate(36, AssetsComponent_div_0_form_36_Template, 26, 4, \"form\", 20);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const _r3 = i0.ɵɵreference(29);\n\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(21);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.assetList);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.formGroup);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"matAutocomplete\", _r3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filteredSymbols);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.toggleShowUpdateAsset);\n  }\n}\n\nexport class AssetsComponent {\n  constructor(service, fb) {\n    this.service = service;\n    this.fb = fb;\n    this.currentRoute = \"\";\n    this.portfolioId = this.service.portfolioId;\n    this.toggleShowUpdateAsset = false;\n    this.updatedAsset = {\n      portfolioId: -1,\n      assetId: -1,\n      units: -1,\n      symbol: '',\n      livePrice: -1,\n      liveTotal: -1\n    };\n  }\n\n  ngOnInit() {\n    this.initForm();\n    this.getSymbols();\n    this.getAllAssets(this.portfolioId);\n  }\n\n  initForm() {\n    var _a;\n\n    this.formGroup = this.fb.group({\n      'symbol': ['']\n    });\n    (_a = this.formGroup.get('symbol')) === null || _a === void 0 ? void 0 : _a.valueChanges.subscribe(response => {\n      this.filterdata(response);\n    });\n  }\n\n  filterdata(enteredData) {\n    this.filteredSymbols = this.symbolList.filter(symbol => {\n      return symbol.toLocaleLowerCase().indexOf(enteredData.toLocaleLowerCase()) > -1;\n    });\n  }\n\n  getSymbols() {\n    this.service.getQuotes().subscribe(response => {\n      this.symbolList = response;\n      this.symbolList = this.symbolList.filter(array => array.includes('USDT'));\n      this.symbolList.forEach((element, index) => {\n        this.symbolList[index] = element.substring(0, element.length - 4);\n      });\n      this.filteredSymbols = this.symbolList;\n    });\n  }\n\n  getAllAssets(pid) {\n    this.service.getAllAssets(pid).subscribe(result => {\n      result.sort((a, b) => a.symbol.localeCompare(b.symbol));\n      this.assetList = result;\n      this.getAssetListPricesUrl();\n      this.getAssetsPrice();\n      console.log(this.assetList);\n    }, error => console.log(error));\n  }\n\n  postAsset(portfolioId, symbol, units) {\n    this.service.postAsset(portfolioId, symbol, units).subscribe(result => {\n      this.getAllAssets(this.portfolioId);\n    }, error => console.error(error));\n  }\n\n  toggleUpdateAsset(portfolioId, assetId, units, symbol) {\n    this.toggleShowUpdateAsset = true;\n    this.updatedAsset.portfolioId = portfolioId;\n    this.updatedAsset.assetId = assetId;\n    this.updatedAsset.units = units;\n    this.updatedAsset.symbol = symbol;\n  }\n\n  updateAsset(portfolioId, assetId, symbol, units) {\n    this.service.updateAsset(portfolioId, assetId, symbol, units).subscribe(result => {\n      this.getAllAssets(this.portfolioId);\n    }, error => console.log(error));\n    this.toggleShowUpdateAsset = false;\n  }\n\n  deleteAsset(portfolioId, assetId) {\n    this.service.deleteAsset(portfolioId, assetId).subscribe(result => {\n      this.getAllAssets(this.portfolioId);\n    }, error => console.log(error));\n    this.toggleShowUpdateAsset = false;\n  }\n\n  getAssetListPricesUrl() {\n    this.livePricesUrl = \"https://api.binance.com/api/v3/ticker/price?symbols=[\";\n    this.assetList.forEach(element => {\n      this.livePricesUrl = this.livePricesUrl + '\"' + element.symbol + \"USDT\" + '\"';\n\n      if (this.assetList[this.assetList.length - 1] == element) {\n        this.livePricesUrl = this.livePricesUrl + \"]\";\n      } else {\n        this.livePricesUrl = this.livePricesUrl + \",\";\n      }\n    });\n    console.log(this.livePricesUrl);\n  }\n\n  getAssetsPrice() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      while (_this.service.currentRoute == \"/portfolio\") {\n        _this.service.functionisRuning = true;\n\n        _this.service.getAssetsPrice(_this.livePricesUrl).subscribe(result => {\n          result.forEach((element, index) => {\n            result[index].symbol = element.symbol.substring(0, element.symbol.length - 4);\n          });\n          result.sort((a, b) => a.symbol.localeCompare(b.symbol));\n\n          for (let i = 0; i < _this.assetList.length; i++) {\n            _this.assetList[i].livePrice = result[i].price;\n            _this.assetList[i].liveTotal = _this.assetList[i].units * _this.assetList[i].livePrice;\n          }\n\n          _this.calculateTotal();\n        });\n\n        yield new Promise(f => setTimeout(f, 5000));\n        console.log(\"assets live prices running\");\n      }\n\n      return;\n    })();\n  }\n\n  calculateTotal() {\n    this.totalBalance = 0;\n    this.assetList.forEach(element => {\n      this.totalBalance = Number(this.totalBalance) + Number(element.liveTotal);\n    });\n    this.service.assetList = this.assetList;\n  }\n\n}\n\nAssetsComponent.ɵfac = function AssetsComponent_Factory(t) {\n  return new (t || AssetsComponent)(i0.ɵɵdirectiveInject(i1.AppDataService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\n\nAssetsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AssetsComponent,\n  selectors: [[\"app-assets\"]],\n  decls: 5,\n  vars: 4,\n  consts: [[\"class\", \"container\", 4, \"ngIf\"], [1, \"row\", \"mt-3\"], [1, \"container\"], [1, \"row\"], [1, \"col-9\"], [1, \"table\"], [1, \"col-1\"], [1, \"col-2\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-3\"], [1, \"mb-5\"], [3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"symbol\", \"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Symbol\", 1, \"form-control\", 3, \"matAutocomplete\"], [\"symbol\", \"\"], [\"auto\", \"matAutocomplete\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"min\", \"0\", \"placeholder\", \"Units\", 1, \"form-control\"], [\"units\", \"\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"mt-3\"], [1, \"mt-3\"], [3, \"ngSubmit\", 4, \"ngIf\"], [\"fontSet\", \"material-icons-outlined\"], [3, \"value\"], [3, \"ngSubmit\"], [\"submitForm\", \"ngForm\"], [\"for\", \"assetId\", \"hidden\", \"\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"assetId\", \"name\", \"assetId\", \"disabled\", \"\", \"hidden\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"assetId\", \"\"], [\"for\", \"portfolioId\", \"hidden\", \"\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"portfolioId\", \"name\", \"portfolioId\", \"disabled\", \"\", \"hidden\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"localportfolioId\", \"\"], [\"for\", \"symbol\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"symbol\", \"name\", \"symbol\", \"disabled\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"for\", \"units\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"units\", \"name\", \"units\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mt-3\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"mt-3\", \"float-end\", 3, \"click\"]],\n  template: function AssetsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, AssetsComponent_div_0_Template, 37, 5, \"div\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"h1\");\n      i0.ɵɵtext(3);\n      i0.ɵɵpipe(4, \"currency\");\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.assetList);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\"Total: \", i0.ɵɵpipeBind1(4, 2, ctx.totalBalance), \" \");\n    }\n  },\n  directives: [i3.NgIf, i3.NgForOf, i4.MatIcon, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i5.MatFormField, i2.DefaultValueAccessor, i6.MatInput, i7.MatAutocompleteTrigger, i2.NgControlStatus, i2.FormControlName, i7.MatAutocomplete, i8.MatOption, i2.NgForm, i2.NumberValueAccessor, i2.NgModel],\n  pipes: [i3.CurrencyPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhc3NldHMuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["C:/Users/anton/source/repos/PortfolioTracker/ClientApp/src/app/assets/assets.component.ts"],"names":["i0","i1","i2","i3","i4","i5","i6","i7","i8","AssetsComponent_div_0_tr_21_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵpipe","asset_r7","$implicit","ɵɵadvance","ɵɵtextInterpolate","assetId","portfolioId","symbol","units","ɵɵpipeBind1","livePrice","liveTotal","AssetsComponent_div_0_mat_option_30_Template","symbol_r8","ɵɵproperty","ɵɵtextInterpolate1","AssetsComponent_div_0_form_36_Template","_r15","ɵɵgetCurrentView","ɵɵlistener","AssetsComponent_div_0_form_36_Template_form_ngSubmit_0_listener","ɵɵrestoreView","_r10","ɵɵreference","_r12","_r13","ctx_r14","ɵɵnextContext","updateAsset","value","ɵɵelement","AssetsComponent_div_0_form_36_Template_button_click_24_listener","ctx_r16","deleteAsset","ctx_r6","updatedAsset","AssetsComponent_div_0_Template","_r18","ɵɵtemplate","AssetsComponent_div_0_Template_form_ngSubmit_24_listener","_r2","_r5","ctx_r17","postAsset","_r3","ctx_r0","assetList","formGroup","filteredSymbols","toggleShowUpdateAsset","AssetsComponent","constructor","service","fb","currentRoute","ngOnInit","initForm","getSymbols","getAllAssets","_a","group","get","valueChanges","subscribe","response","filterdata","enteredData","symbolList","filter","toLocaleLowerCase","indexOf","getQuotes","array","includes","forEach","element","index","substring","length","pid","result","sort","a","b","localeCompare","getAssetListPricesUrl","getAssetsPrice","console","log","error","toggleUpdateAsset","livePricesUrl","functionisRuning","i","price","calculateTotal","Promise","f","setTimeout","totalBalance","Number","ɵfac","AssetsComponent_Factory","t","ɵɵdirectiveInject","AppDataService","FormBuilder","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","AssetsComponent_Template","directives","NgIf","NgForOf","MatIcon","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","MatFormField","DefaultValueAccessor","MatInput","MatAutocompleteTrigger","NgControlStatus","FormControlName","MatAutocomplete","MatOption","NgForm","NumberValueAccessor","NgModel","pipes","CurrencyPipe","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/app-data.service\";\r\nimport * as i2 from \"@angular/forms\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"@angular/material/icon\";\r\nimport * as i5 from \"@angular/material/form-field\";\r\nimport * as i6 from \"@angular/material/input\";\r\nimport * as i7 from \"@angular/material/autocomplete\";\r\nimport * as i8 from \"@angular/material/core\";\r\nfunction AssetsComponent_div_0_tr_21_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"td\");\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"td\");\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(7, \"td\");\r\n    i0.ɵɵtext(8);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(9, \"td\");\r\n    i0.ɵɵtext(10);\r\n    i0.ɵɵpipe(11, \"currency\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(12, \"td\");\r\n    i0.ɵɵtext(13);\r\n    i0.ɵɵpipe(14, \"currency\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(15, \"td\")(16, \"mat-icon\", 21);\r\n    i0.ɵɵtext(17, \"edit\");\r\n    i0.ɵɵelementEnd()()();\r\n} if (rf & 2) {\r\n    const asset_r7 = ctx.$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asset_r7.assetId);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asset_r7.portfolioId);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asset_r7.symbol);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asset_r7.units);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 6, asset_r7.livePrice));\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 8, asset_r7.liveTotal));\r\n} }\r\nfunction AssetsComponent_div_0_mat_option_30_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-option\", 22);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const symbol_r8 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"value\", symbol_r8);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", symbol_r8, \" \");\r\n} }\r\nfunction AssetsComponent_div_0_form_36_Template(rf, ctx) { if (rf & 1) {\r\n    const _r15 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"form\", 23, 24);\r\n    i0.ɵɵlistener(\"ngSubmit\", function AssetsComponent_div_0_form_36_Template_form_ngSubmit_0_listener() { i0.ɵɵrestoreView(_r15); const _r10 = i0.ɵɵreference(6); const _r12 = i0.ɵɵreference(16); const _r13 = i0.ɵɵreference(21); const ctx_r14 = i0.ɵɵnextContext(2); return ctx_r14.updateAsset(ctx_r14.portfolioId, +_r10.value, _r12.value, +_r13.value); });\r\n    i0.ɵɵelementStart(2, \"div\", 19)(3, \"label\", 25);\r\n    i0.ɵɵtext(4, \"Asset Id\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(5, \"input\", 26, 27);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(7, \"div\")(8, \"label\", 28);\r\n    i0.ɵɵtext(9, \"Portfolio Id\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(10, \"input\", 29, 30);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(12, \"div\")(13, \"label\", 31);\r\n    i0.ɵɵtext(14, \"Symbol\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(15, \"input\", 32, 13);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(17, \"div\")(18, \"label\", 33);\r\n    i0.ɵɵtext(19, \"Units\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(20, \"input\", 34, 17);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(22, \"button\", 35);\r\n    i0.ɵɵtext(23, \"Modify Asset\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(24, \"button\", 36);\r\n    i0.ɵɵlistener(\"click\", function AssetsComponent_div_0_form_36_Template_button_click_24_listener() { i0.ɵɵrestoreView(_r15); const _r10 = i0.ɵɵreference(6); const ctx_r16 = i0.ɵɵnextContext(2); return ctx_r16.deleteAsset(ctx_r16.portfolioId, +_r10.value); });\r\n    i0.ɵɵtext(25, \"Delete Asset\");\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const ctx_r6 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.updatedAsset.assetId);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.updatedAsset.portfolioId);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.updatedAsset.symbol);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngModel\", ctx_r6.updatedAsset.units);\r\n} }\r\nfunction AssetsComponent_div_0_Template(rf, ctx) { if (rf & 1) {\r\n    const _r18 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"table\", 5)(4, \"thead\")(5, \"tr\")(6, \"th\", 6);\r\n    i0.ɵɵtext(7, \"Id\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"th\", 6);\r\n    i0.ɵɵtext(9, \"PortfolioId\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(10, \"th\", 7);\r\n    i0.ɵɵtext(11, \"Symbol\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(12, \"th\", 6);\r\n    i0.ɵɵtext(13, \"Units\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(14, \"th\", 6);\r\n    i0.ɵɵtext(15, \"Price\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(16, \"th\", 6);\r\n    i0.ɵɵtext(17, \"Total\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(18, \"th\", 6);\r\n    i0.ɵɵtext(19, \"Modify\");\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelementStart(20, \"tbody\");\r\n    i0.ɵɵtemplate(21, AssetsComponent_div_0_tr_21_Template, 18, 10, \"tr\", 8);\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelementStart(22, \"div\", 9)(23, \"div\", 10)(24, \"form\", 11);\r\n    i0.ɵɵlistener(\"ngSubmit\", function AssetsComponent_div_0_Template_form_ngSubmit_24_listener() { i0.ɵɵrestoreView(_r18); const _r2 = i0.ɵɵreference(27); const _r5 = i0.ɵɵreference(32); const ctx_r17 = i0.ɵɵnextContext(); return ctx_r17.postAsset(ctx_r17.portfolioId, _r2.value, +_r5.value); });\r\n    i0.ɵɵelementStart(25, \"mat-form-field\");\r\n    i0.ɵɵelement(26, \"input\", 12, 13);\r\n    i0.ɵɵelementStart(28, \"mat-autocomplete\", null, 14);\r\n    i0.ɵɵtemplate(30, AssetsComponent_div_0_mat_option_30_Template, 2, 2, \"mat-option\", 15);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelement(31, \"input\", 16, 17);\r\n    i0.ɵɵelementStart(33, \"button\", 18);\r\n    i0.ɵɵtext(34, \"Add Asset\");\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelementStart(35, \"div\", 19);\r\n    i0.ɵɵtemplate(36, AssetsComponent_div_0_form_36_Template, 26, 4, \"form\", 20);\r\n    i0.ɵɵelementEnd()()()();\r\n} if (rf & 2) {\r\n    const _r3 = i0.ɵɵreference(29);\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(21);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.assetList);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.formGroup);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"matAutocomplete\", _r3);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filteredSymbols);\r\n    i0.ɵɵadvance(6);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.toggleShowUpdateAsset);\r\n} }\r\nexport class AssetsComponent {\r\n    constructor(service, fb) {\r\n        this.service = service;\r\n        this.fb = fb;\r\n        this.currentRoute = \"\";\r\n        this.portfolioId = this.service.portfolioId;\r\n        this.toggleShowUpdateAsset = false;\r\n        this.updatedAsset = {\r\n            portfolioId: -1,\r\n            assetId: -1,\r\n            units: -1,\r\n            symbol: '',\r\n            livePrice: -1,\r\n            liveTotal: -1\r\n        };\r\n    }\r\n    ngOnInit() {\r\n        this.initForm();\r\n        this.getSymbols();\r\n        this.getAllAssets(this.portfolioId);\r\n    }\r\n    initForm() {\r\n        var _a;\r\n        this.formGroup = this.fb.group({\r\n            'symbol': ['']\r\n        });\r\n        (_a = this.formGroup.get('symbol')) === null || _a === void 0 ? void 0 : _a.valueChanges.subscribe(response => {\r\n            this.filterdata(response);\r\n        });\r\n    }\r\n    filterdata(enteredData) {\r\n        this.filteredSymbols = this.symbolList.filter(symbol => {\r\n            return symbol.toLocaleLowerCase().indexOf(enteredData.toLocaleLowerCase()) > -1;\r\n        });\r\n    }\r\n    getSymbols() {\r\n        this.service.getQuotes().subscribe(response => {\r\n            this.symbolList = response;\r\n            this.symbolList = this.symbolList.filter(array => array.includes('USDT'));\r\n            this.symbolList.forEach((element, index) => {\r\n                this.symbolList[index] = element.substring(0, element.length - 4);\r\n            });\r\n            this.filteredSymbols = this.symbolList;\r\n        });\r\n    }\r\n    getAllAssets(pid) {\r\n        this.service.getAllAssets(pid).subscribe(result => {\r\n            result.sort((a, b) => a.symbol.localeCompare(b.symbol));\r\n            this.assetList = result;\r\n            this.getAssetListPricesUrl();\r\n            this.getAssetsPrice();\r\n            console.log(this.assetList);\r\n        }, error => console.log(error));\r\n    }\r\n    postAsset(portfolioId, symbol, units) {\r\n        this.service.postAsset(portfolioId, symbol, units).subscribe(result => {\r\n            this.getAllAssets(this.portfolioId);\r\n        }, error => console.error(error));\r\n    }\r\n    toggleUpdateAsset(portfolioId, assetId, units, symbol) {\r\n        this.toggleShowUpdateAsset = true;\r\n        this.updatedAsset.portfolioId = portfolioId;\r\n        this.updatedAsset.assetId = assetId;\r\n        this.updatedAsset.units = units;\r\n        this.updatedAsset.symbol = symbol;\r\n    }\r\n    updateAsset(portfolioId, assetId, symbol, units) {\r\n        this.service.updateAsset(portfolioId, assetId, symbol, units).subscribe(result => {\r\n            this.getAllAssets(this.portfolioId);\r\n        }, error => console.log(error));\r\n        this.toggleShowUpdateAsset = false;\r\n    }\r\n    deleteAsset(portfolioId, assetId) {\r\n        this.service.deleteAsset(portfolioId, assetId).subscribe(result => {\r\n            this.getAllAssets(this.portfolioId);\r\n        }, error => console.log(error));\r\n        this.toggleShowUpdateAsset = false;\r\n    }\r\n    getAssetListPricesUrl() {\r\n        this.livePricesUrl = \"https://api.binance.com/api/v3/ticker/price?symbols=[\";\r\n        this.assetList.forEach(element => {\r\n            this.livePricesUrl = this.livePricesUrl + '\"' + element.symbol + \"USDT\" + '\"';\r\n            if (this.assetList[this.assetList.length - 1] == element) {\r\n                this.livePricesUrl = this.livePricesUrl + \"]\";\r\n            }\r\n            else {\r\n                this.livePricesUrl = this.livePricesUrl + \",\";\r\n            }\r\n        });\r\n        console.log(this.livePricesUrl);\r\n    }\r\n    async getAssetsPrice() {\r\n        while (this.service.currentRoute == \"/portfolio\") {\r\n            this.service.functionisRuning = true;\r\n            this.service.getAssetsPrice(this.livePricesUrl).subscribe(result => {\r\n                result.forEach((element, index) => {\r\n                    result[index].symbol = element.symbol.substring(0, element.symbol.length - 4);\r\n                });\r\n                result.sort((a, b) => a.symbol.localeCompare(b.symbol));\r\n                for (let i = 0; i < this.assetList.length; i++) {\r\n                    this.assetList[i].livePrice = result[i].price;\r\n                    this.assetList[i].liveTotal = this.assetList[i].units * this.assetList[i].livePrice;\r\n                }\r\n                this.calculateTotal();\r\n            });\r\n            await new Promise(f => setTimeout(f, 5000));\r\n            console.log(\"assets live prices running\");\r\n        }\r\n        return;\r\n    }\r\n    calculateTotal() {\r\n        this.totalBalance = 0;\r\n        this.assetList.forEach(element => {\r\n            this.totalBalance = Number(this.totalBalance) + Number(element.liveTotal);\r\n        });\r\n        this.service.assetList = this.assetList;\r\n    }\r\n}\r\nAssetsComponent.ɵfac = function AssetsComponent_Factory(t) { return new (t || AssetsComponent)(i0.ɵɵdirectiveInject(i1.AppDataService), i0.ɵɵdirectiveInject(i2.FormBuilder)); };\r\nAssetsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AssetsComponent, selectors: [[\"app-assets\"]], decls: 5, vars: 4, consts: [[\"class\", \"container\", 4, \"ngIf\"], [1, \"row\", \"mt-3\"], [1, \"container\"], [1, \"row\"], [1, \"col-9\"], [1, \"table\"], [1, \"col-1\"], [1, \"col-2\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-3\"], [1, \"mb-5\"], [3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"symbol\", \"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Symbol\", 1, \"form-control\", 3, \"matAutocomplete\"], [\"symbol\", \"\"], [\"auto\", \"matAutocomplete\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"min\", \"0\", \"placeholder\", \"Units\", 1, \"form-control\"], [\"units\", \"\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"mt-3\"], [1, \"mt-3\"], [3, \"ngSubmit\", 4, \"ngIf\"], [\"fontSet\", \"material-icons-outlined\"], [3, \"value\"], [3, \"ngSubmit\"], [\"submitForm\", \"ngForm\"], [\"for\", \"assetId\", \"hidden\", \"\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"assetId\", \"name\", \"assetId\", \"disabled\", \"\", \"hidden\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"assetId\", \"\"], [\"for\", \"portfolioId\", \"hidden\", \"\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"portfolioId\", \"name\", \"portfolioId\", \"disabled\", \"\", \"hidden\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"localportfolioId\", \"\"], [\"for\", \"symbol\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"symbol\", \"name\", \"symbol\", \"disabled\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"for\", \"units\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"units\", \"name\", \"units\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mt-3\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"mt-3\", \"float-end\", 3, \"click\"]], template: function AssetsComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, AssetsComponent_div_0_Template, 37, 5, \"div\", 0);\r\n        i0.ɵɵelementStart(1, \"div\", 1)(2, \"h1\");\r\n        i0.ɵɵtext(3);\r\n        i0.ɵɵpipe(4, \"currency\");\r\n        i0.ɵɵelementEnd()();\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", ctx.assetList);\r\n        i0.ɵɵadvance(3);\r\n        i0.ɵɵtextInterpolate1(\"Total: \", i0.ɵɵpipeBind1(4, 2, ctx.totalBalance), \" \");\r\n    } }, directives: [i3.NgIf, i3.NgForOf, i4.MatIcon, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i5.MatFormField, i2.DefaultValueAccessor, i6.MatInput, i7.MatAutocompleteTrigger, i2.NgControlStatus, i2.FormControlName, i7.MatAutocomplete, i8.MatOption, i2.NgForm, i2.NumberValueAccessor, i2.NgModel], pipes: [i3.CurrencyPipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhc3NldHMuY29tcG9uZW50LmNzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}