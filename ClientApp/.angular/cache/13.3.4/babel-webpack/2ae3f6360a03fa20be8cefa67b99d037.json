{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Users\\\\anton\\\\source\\\\repos\\\\PortfolioTracker\\\\ClientApp\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/app-data.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/form-field\";\nimport * as i5 from \"@angular/material/input\";\nimport * as i6 from \"@angular/material/autocomplete\";\nimport * as i7 from \"@angular/material/core\";\n\nfunction AssetsComponent_div_0_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function AssetsComponent_div_0_tr_19_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const asset_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return ctx_r9.toggleUpdateAsset(asset_r8.portfolioId, asset_r8.assetId, asset_r8.units, asset_r8.symbol);\n    });\n    i0.ɵɵtext(13, \"Modify\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const asset_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asset_r8.assetId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asset_r8.portfolioId);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asset_r8.symbol);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asset_r8.units);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asset_r8.livePrice);\n  }\n}\n\nfunction AssetsComponent_div_0_mat_option_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const symbol_r11 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", symbol_r11);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", symbol_r11, \" \");\n  }\n}\n\nfunction AssetsComponent_div_0_form_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 23, 24);\n    i0.ɵɵlistener(\"ngSubmit\", function AssetsComponent_div_0_form_34_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n\n      const _r13 = i0.ɵɵreference(6);\n\n      const _r15 = i0.ɵɵreference(16);\n\n      const _r16 = i0.ɵɵreference(21);\n\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return ctx_r17.updateAsset(ctx_r17.portfolioId, +_r13.value, _r15.value, +_r16.value);\n    });\n    i0.ɵɵelementStart(2, \"div\", 20)(3, \"label\", 25);\n    i0.ɵɵtext(4, \"Asset Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"input\", 26, 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\")(8, \"label\", 28);\n    i0.ɵɵtext(9, \"Portfolio Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"input\", 29, 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\")(13, \"label\", 31);\n    i0.ɵɵtext(14, \"Symbol\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"input\", 32, 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\")(18, \"label\", 33);\n    i0.ɵɵtext(19, \"Units\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"input\", 34, 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 35);\n    i0.ɵɵtext(23, \"Modify Asset\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function AssetsComponent_div_0_form_34_Template_button_click_24_listener() {\n      i0.ɵɵrestoreView(_r18);\n\n      const _r13 = i0.ɵɵreference(6);\n\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return ctx_r19.deleteAsset(ctx_r19.portfolioId, +_r13.value);\n    });\n    i0.ɵɵtext(25, \"Delete Asset\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.updatedAsset.assetId);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.updatedAsset.portfolioId);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.updatedAsset.symbol);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.updatedAsset.units);\n  }\n}\n\nfunction AssetsComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"div\", 5)(3, \"table\", 6)(4, \"thead\")(5, \"tr\")(6, \"th\", 7);\n    i0.ɵɵtext(7, \"Id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 7);\n    i0.ɵɵtext(9, \"PortfolioId\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 8);\n    i0.ɵɵtext(11, \"Symbol\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 7);\n    i0.ɵɵtext(13, \"Units\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 7);\n    i0.ɵɵtext(15, \"Price\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 7);\n    i0.ɵɵtext(17, \"Modify\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(18, \"tbody\");\n    i0.ɵɵtemplate(19, AssetsComponent_div_0_tr_19_Template, 14, 5, \"tr\", 9);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(20, \"div\", 10)(21, \"div\", 11)(22, \"form\", 12);\n    i0.ɵɵlistener(\"ngSubmit\", function AssetsComponent_div_0_Template_form_ngSubmit_22_listener() {\n      i0.ɵɵrestoreView(_r21);\n\n      const _r3 = i0.ɵɵreference(25);\n\n      const _r6 = i0.ɵɵreference(30);\n\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.postAsset(ctx_r20.portfolioId, _r3.value, +_r6.value);\n    });\n    i0.ɵɵelementStart(23, \"mat-form-field\");\n    i0.ɵɵelement(24, \"input\", 13, 14);\n    i0.ɵɵelementStart(26, \"mat-autocomplete\", null, 15);\n    i0.ɵɵtemplate(28, AssetsComponent_div_0_mat_option_28_Template, 2, 2, \"mat-option\", 16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(29, \"input\", 17, 18);\n    i0.ɵɵelementStart(31, \"button\", 19);\n    i0.ɵɵtext(32, \"Add Asset\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(33, \"div\", 20);\n    i0.ɵɵtemplate(34, AssetsComponent_div_0_form_34_Template, 26, 4, \"form\", 21);\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const _r4 = i0.ɵɵreference(27);\n\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(19);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.assetList);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.formGroup);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"matAutocomplete\", _r4);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filteredSymbols);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.toggleShowUpdateAsset);\n  }\n}\n\nfunction AssetsComponent_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 2);\n    i0.ɵɵlistener(\"click\", function AssetsComponent_button_1_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return ctx_r22.getAllAssets(ctx_r22.portfolioId);\n    });\n    i0.ɵɵtext(1, \"get assets\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class AssetsComponent {\n  constructor(service, fb) {\n    this.service = service;\n    this.fb = fb;\n    this.portfolioId = this.service.portfolioId;\n    this.toggleShowUpdateAsset = false;\n    this.updatedAsset = {\n      portfolioId: -1,\n      assetId: -1,\n      units: -1,\n      symbol: '',\n      livePrice: -1\n    };\n  }\n\n  ngOnInit() {\n    this.initForm();\n    this.getSymbols();\n    this.getAllAssets(this.portfolioId); // this.getAssetsPrice();\n  }\n\n  ngAfterViewInit() {// this.getAssetListPrices()\n    // this.getAssetsPrice();\n    // setInterval(() => this.getAssetsPrice(), 5000)\n  }\n\n  ngOnChanges() {}\n\n  initForm() {\n    var _a;\n\n    this.formGroup = this.fb.group({\n      'symbol': ['']\n    });\n    (_a = this.formGroup.get('symbol')) === null || _a === void 0 ? void 0 : _a.valueChanges.subscribe(response => {\n      this.filterdata(response);\n    });\n  }\n\n  filterdata(enteredData) {\n    this.filteredSymbols = this.symbolList.filter(symbol => {\n      return symbol.toLocaleLowerCase().indexOf(enteredData.toLocaleLowerCase()) > -1;\n    });\n  }\n\n  getSymbols() {\n    this.service.getQuotes().subscribe(response => {\n      this.symbolList = response;\n      this.symbolList = this.symbolList.filter(array => array.includes('USDT'));\n      this.symbolList.forEach((element, index) => {\n        this.symbolList[index] = element.substring(0, element.length - 4);\n      });\n      this.filteredSymbols = this.symbolList;\n    });\n  }\n\n  getAllAssets(pid) {\n    this.service.getAllAssets(pid).subscribe(result => {\n      result.sort((a, b) => a.symbol.localeCompare(b.symbol));\n      this.assetList = result;\n      this.getAssetListPricesUrl();\n      console.log(this.assetList);\n    }, error => console.log(error));\n  }\n\n  postAsset(portfolioId, symbol, units) {\n    this.service.postAsset(portfolioId, symbol, units).subscribe(result => {\n      this.getAllAssets(this.portfolioId);\n    }, error => console.error(error));\n  }\n\n  toggleUpdateAsset(portfolioId, assetId, units, symbol) {\n    this.toggleShowUpdateAsset = true;\n    this.updatedAsset.portfolioId = portfolioId;\n    this.updatedAsset.assetId = assetId;\n    this.updatedAsset.units = units;\n    this.updatedAsset.symbol = symbol;\n  }\n\n  updateAsset(portfolioId, assetId, symbol, units) {\n    this.service.updateAsset(portfolioId, assetId, symbol, units).subscribe(result => {\n      this.getAllAssets(this.portfolioId);\n    }, error => console.log(error));\n    this.toggleShowUpdateAsset = false;\n  }\n\n  deleteAsset(portfolioId, assetId) {\n    this.service.deleteAsset(portfolioId, assetId).subscribe(result => {\n      this.getAllAssets(this.portfolioId);\n    }, error => console.log(error));\n    this.toggleShowUpdateAsset = false;\n  }\n\n  getAssetListPricesUrl() {\n    this.livePricesUrl = \"https://api.binance.com/api/v3/ticker/price?symbols=[\";\n    this.assetList.forEach(element => {\n      this.livePricesUrl = this.livePricesUrl + '\"' + element.symbol + \"USDT\" + '\"';\n\n      if (this.assetList[this.assetList.length - 1] == element) {\n        this.livePricesUrl = this.livePricesUrl + \"]\";\n      } else {\n        this.livePricesUrl = this.livePricesUrl + \",\";\n      }\n    });\n    console.log(this.livePricesUrl);\n  }\n\n  getAssetsPrice() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      while (true) {\n        _this.service.getAssetsPrice(_this.livePricesUrl).subscribe(result => {\n          result.forEach((element, index) => {\n            result[index].symbol = element.symbol.substring(0, element.symbol.length - 4);\n          });\n          result.sort((a, b) => a.symbol.localeCompare(b.symbol));\n\n          for (let i = 0; i < _this.assetList.length; i++) {\n            _this.assetList[i].livePrice = result[i].price;\n          } // this.assetList.forEach(assetElement => {\n          //   result.forEach(resultElement => {\n          //     if (assetElement.symbol == resultElement.symbol) {\n          //       assetElement.livePrice = resultElement.price;\n          //       return;\n          //     }\n          //   });\n          // });\n\n        });\n\n        yield _this.delay(5000);\n      }\n    })();\n  }\n\n  delay(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n  }\n\n}\n\nAssetsComponent.ɵfac = function AssetsComponent_Factory(t) {\n  return new (t || AssetsComponent)(i0.ɵɵdirectiveInject(i1.AppDataService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\n\nAssetsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AssetsComponent,\n  selectors: [[\"app-assets\"]],\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 6,\n  vars: 2,\n  consts: [[\"class\", \"container\", 4, \"ngIf\"], [\"class\", \"btn btn-primary\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"container\"], [1, \"row\"], [1, \"col-9\"], [1, \"table\"], [1, \"col-1\"], [1, \"col-2\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-3\"], [1, \"mb-5\"], [3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"symbol\", \"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Symbol\", 1, \"form-control\", 3, \"matAutocomplete\"], [\"symbol\", \"\"], [\"auto\", \"matAutocomplete\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"min\", \"0\", \"placeholder\", \"Units\", 1, \"form-control\"], [\"units\", \"\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"mt-3\"], [1, \"mt-3\"], [3, \"ngSubmit\", 4, \"ngIf\"], [3, \"value\"], [3, \"ngSubmit\"], [\"submitForm\", \"ngForm\"], [\"for\", \"assetId\", \"hidden\", \"\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"assetId\", \"name\", \"assetId\", \"disabled\", \"\", \"hidden\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"assetId\", \"\"], [\"for\", \"portfolioId\", \"hidden\", \"\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"portfolioId\", \"name\", \"portfolioId\", \"disabled\", \"\", \"hidden\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"localportfolioId\", \"\"], [\"for\", \"symbol\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"symbol\", \"name\", \"symbol\", \"disabled\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"for\", \"units\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"units\", \"name\", \"units\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mt-3\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"mt-3\", \"float-end\", 3, \"click\"]],\n  template: function AssetsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, AssetsComponent_div_0_Template, 35, 5, \"div\", 0);\n      i0.ɵɵtemplate(1, AssetsComponent_button_1_Template, 2, 0, \"button\", 1);\n      i0.ɵɵelementStart(2, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function AssetsComponent_Template_button_click_2_listener() {\n        return ctx.getAssetListPricesUrl();\n      });\n      i0.ɵɵtext(3, \"get assets url\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"button\", 2);\n      i0.ɵɵlistener(\"click\", function AssetsComponent_Template_button_click_4_listener() {\n        return ctx.getAssetsPrice();\n      });\n      i0.ɵɵtext(5, \"get assets json\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.assetList);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.assetList);\n    }\n  },\n  directives: [i3.NgIf, i3.NgForOf, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i4.MatFormField, i2.DefaultValueAccessor, i5.MatInput, i6.MatAutocompleteTrigger, i2.NgControlStatus, i2.FormControlName, i6.MatAutocomplete, i7.MatOption, i2.NgForm, i2.NumberValueAccessor, i2.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhc3NldHMuY29tcG9uZW50LmNzcyJ9 */\"]\n});","map":{"version":3,"sources":["C:/Users/anton/source/repos/PortfolioTracker/ClientApp/src/app/assets/assets.component.ts"],"names":["i0","i1","i2","i3","i4","i5","i6","i7","AssetsComponent_div_0_tr_19_Template","rf","ctx","_r10","ɵɵgetCurrentView","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AssetsComponent_div_0_tr_19_Template_button_click_12_listener","restoredCtx","ɵɵrestoreView","asset_r8","$implicit","ctx_r9","ɵɵnextContext","toggleUpdateAsset","portfolioId","assetId","units","symbol","ɵɵadvance","ɵɵtextInterpolate","livePrice","AssetsComponent_div_0_mat_option_28_Template","symbol_r11","ɵɵproperty","ɵɵtextInterpolate1","AssetsComponent_div_0_form_34_Template","_r18","AssetsComponent_div_0_form_34_Template_form_ngSubmit_0_listener","_r13","ɵɵreference","_r15","_r16","ctx_r17","updateAsset","value","ɵɵelement","AssetsComponent_div_0_form_34_Template_button_click_24_listener","ctx_r19","deleteAsset","ctx_r7","updatedAsset","AssetsComponent_div_0_Template","_r21","ɵɵtemplate","AssetsComponent_div_0_Template_form_ngSubmit_22_listener","_r3","_r6","ctx_r20","postAsset","_r4","ctx_r0","assetList","formGroup","filteredSymbols","toggleShowUpdateAsset","AssetsComponent_button_1_Template","_r23","AssetsComponent_button_1_Template_button_click_0_listener","ctx_r22","getAllAssets","AssetsComponent","constructor","service","fb","ngOnInit","initForm","getSymbols","ngAfterViewInit","ngOnChanges","_a","group","get","valueChanges","subscribe","response","filterdata","enteredData","symbolList","filter","toLocaleLowerCase","indexOf","getQuotes","array","includes","forEach","element","index","substring","length","pid","result","sort","a","b","localeCompare","getAssetListPricesUrl","console","log","error","livePricesUrl","getAssetsPrice","i","price","delay","ms","Promise","resolve","setTimeout","ɵfac","AssetsComponent_Factory","t","ɵɵdirectiveInject","AppDataService","FormBuilder","ɵcmp","ɵɵdefineComponent","type","selectors","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","AssetsComponent_Template","AssetsComponent_Template_button_click_2_listener","AssetsComponent_Template_button_click_4_listener","directives","NgIf","NgForOf","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","MatFormField","DefaultValueAccessor","MatInput","MatAutocompleteTrigger","NgControlStatus","FormControlName","MatAutocomplete","MatOption","NgForm","NumberValueAccessor","NgModel","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/services/app-data.service\";\r\nimport * as i2 from \"@angular/forms\";\r\nimport * as i3 from \"@angular/common\";\r\nimport * as i4 from \"@angular/material/form-field\";\r\nimport * as i5 from \"@angular/material/input\";\r\nimport * as i6 from \"@angular/material/autocomplete\";\r\nimport * as i7 from \"@angular/material/core\";\r\nfunction AssetsComponent_div_0_tr_19_Template(rf, ctx) { if (rf & 1) {\r\n    const _r10 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"td\");\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"td\");\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(7, \"td\");\r\n    i0.ɵɵtext(8);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(9, \"td\");\r\n    i0.ɵɵtext(10);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(11, \"td\")(12, \"button\", 2);\r\n    i0.ɵɵlistener(\"click\", function AssetsComponent_div_0_tr_19_Template_button_click_12_listener() { const restoredCtx = i0.ɵɵrestoreView(_r10); const asset_r8 = restoredCtx.$implicit; const ctx_r9 = i0.ɵɵnextContext(2); return ctx_r9.toggleUpdateAsset(asset_r8.portfolioId, asset_r8.assetId, asset_r8.units, asset_r8.symbol); });\r\n    i0.ɵɵtext(13, \"Modify\");\r\n    i0.ɵɵelementEnd()()();\r\n} if (rf & 2) {\r\n    const asset_r8 = ctx.$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asset_r8.assetId);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asset_r8.portfolioId);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asset_r8.symbol);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asset_r8.units);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(asset_r8.livePrice);\r\n} }\r\nfunction AssetsComponent_div_0_mat_option_28_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"mat-option\", 22);\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const symbol_r11 = ctx.$implicit;\r\n    i0.ɵɵproperty(\"value\", symbol_r11);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\" \", symbol_r11, \" \");\r\n} }\r\nfunction AssetsComponent_div_0_form_34_Template(rf, ctx) { if (rf & 1) {\r\n    const _r18 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"form\", 23, 24);\r\n    i0.ɵɵlistener(\"ngSubmit\", function AssetsComponent_div_0_form_34_Template_form_ngSubmit_0_listener() { i0.ɵɵrestoreView(_r18); const _r13 = i0.ɵɵreference(6); const _r15 = i0.ɵɵreference(16); const _r16 = i0.ɵɵreference(21); const ctx_r17 = i0.ɵɵnextContext(2); return ctx_r17.updateAsset(ctx_r17.portfolioId, +_r13.value, _r15.value, +_r16.value); });\r\n    i0.ɵɵelementStart(2, \"div\", 20)(3, \"label\", 25);\r\n    i0.ɵɵtext(4, \"Asset Id\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(5, \"input\", 26, 27);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(7, \"div\")(8, \"label\", 28);\r\n    i0.ɵɵtext(9, \"Portfolio Id\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(10, \"input\", 29, 30);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(12, \"div\")(13, \"label\", 31);\r\n    i0.ɵɵtext(14, \"Symbol\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(15, \"input\", 32, 14);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(17, \"div\")(18, \"label\", 33);\r\n    i0.ɵɵtext(19, \"Units\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(20, \"input\", 34, 18);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(22, \"button\", 35);\r\n    i0.ɵɵtext(23, \"Modify Asset\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(24, \"button\", 36);\r\n    i0.ɵɵlistener(\"click\", function AssetsComponent_div_0_form_34_Template_button_click_24_listener() { i0.ɵɵrestoreView(_r18); const _r13 = i0.ɵɵreference(6); const ctx_r19 = i0.ɵɵnextContext(2); return ctx_r19.deleteAsset(ctx_r19.portfolioId, +_r13.value); });\r\n    i0.ɵɵtext(25, \"Delete Asset\");\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const ctx_r7 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.updatedAsset.assetId);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.updatedAsset.portfolioId);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.updatedAsset.symbol);\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵproperty(\"ngModel\", ctx_r7.updatedAsset.units);\r\n} }\r\nfunction AssetsComponent_div_0_Template(rf, ctx) { if (rf & 1) {\r\n    const _r21 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"div\", 5)(3, \"table\", 6)(4, \"thead\")(5, \"tr\")(6, \"th\", 7);\r\n    i0.ɵɵtext(7, \"Id\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"th\", 7);\r\n    i0.ɵɵtext(9, \"PortfolioId\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(10, \"th\", 8);\r\n    i0.ɵɵtext(11, \"Symbol\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(12, \"th\", 7);\r\n    i0.ɵɵtext(13, \"Units\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(14, \"th\", 7);\r\n    i0.ɵɵtext(15, \"Price\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(16, \"th\", 7);\r\n    i0.ɵɵtext(17, \"Modify\");\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelementStart(18, \"tbody\");\r\n    i0.ɵɵtemplate(19, AssetsComponent_div_0_tr_19_Template, 14, 5, \"tr\", 9);\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelementStart(20, \"div\", 10)(21, \"div\", 11)(22, \"form\", 12);\r\n    i0.ɵɵlistener(\"ngSubmit\", function AssetsComponent_div_0_Template_form_ngSubmit_22_listener() { i0.ɵɵrestoreView(_r21); const _r3 = i0.ɵɵreference(25); const _r6 = i0.ɵɵreference(30); const ctx_r20 = i0.ɵɵnextContext(); return ctx_r20.postAsset(ctx_r20.portfolioId, _r3.value, +_r6.value); });\r\n    i0.ɵɵelementStart(23, \"mat-form-field\");\r\n    i0.ɵɵelement(24, \"input\", 13, 14);\r\n    i0.ɵɵelementStart(26, \"mat-autocomplete\", null, 15);\r\n    i0.ɵɵtemplate(28, AssetsComponent_div_0_mat_option_28_Template, 2, 2, \"mat-option\", 16);\r\n    i0.ɵɵelementEnd()();\r\n    i0.ɵɵelement(29, \"input\", 17, 18);\r\n    i0.ɵɵelementStart(31, \"button\", 19);\r\n    i0.ɵɵtext(32, \"Add Asset\");\r\n    i0.ɵɵelementEnd()()();\r\n    i0.ɵɵelementStart(33, \"div\", 20);\r\n    i0.ɵɵtemplate(34, AssetsComponent_div_0_form_34_Template, 26, 4, \"form\", 21);\r\n    i0.ɵɵelementEnd()()()();\r\n} if (rf & 2) {\r\n    const _r4 = i0.ɵɵreference(27);\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(19);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.assetList);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.formGroup);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"matAutocomplete\", _r4);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.filteredSymbols);\r\n    i0.ɵɵadvance(6);\r\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.toggleShowUpdateAsset);\r\n} }\r\nfunction AssetsComponent_button_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r23 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"button\", 2);\r\n    i0.ɵɵlistener(\"click\", function AssetsComponent_button_1_Template_button_click_0_listener() { i0.ɵɵrestoreView(_r23); const ctx_r22 = i0.ɵɵnextContext(); return ctx_r22.getAllAssets(ctx_r22.portfolioId); });\r\n    i0.ɵɵtext(1, \"get assets\");\r\n    i0.ɵɵelementEnd();\r\n} }\r\nexport class AssetsComponent {\r\n    constructor(service, fb) {\r\n        this.service = service;\r\n        this.fb = fb;\r\n        this.portfolioId = this.service.portfolioId;\r\n        this.toggleShowUpdateAsset = false;\r\n        this.updatedAsset = {\r\n            portfolioId: -1,\r\n            assetId: -1,\r\n            units: -1,\r\n            symbol: '',\r\n            livePrice: -1\r\n        };\r\n    }\r\n    ngOnInit() {\r\n        this.initForm();\r\n        this.getSymbols();\r\n        this.getAllAssets(this.portfolioId);\r\n        // this.getAssetsPrice();\r\n    }\r\n    ngAfterViewInit() {\r\n        // this.getAssetListPrices()\r\n        // this.getAssetsPrice();\r\n        // setInterval(() => this.getAssetsPrice(), 5000)\r\n    }\r\n    ngOnChanges() {\r\n    }\r\n    initForm() {\r\n        var _a;\r\n        this.formGroup = this.fb.group({\r\n            'symbol': ['']\r\n        });\r\n        (_a = this.formGroup.get('symbol')) === null || _a === void 0 ? void 0 : _a.valueChanges.subscribe(response => {\r\n            this.filterdata(response);\r\n        });\r\n    }\r\n    filterdata(enteredData) {\r\n        this.filteredSymbols = this.symbolList.filter(symbol => {\r\n            return symbol.toLocaleLowerCase().indexOf(enteredData.toLocaleLowerCase()) > -1;\r\n        });\r\n    }\r\n    getSymbols() {\r\n        this.service.getQuotes().subscribe(response => {\r\n            this.symbolList = response;\r\n            this.symbolList = this.symbolList.filter(array => array.includes('USDT'));\r\n            this.symbolList.forEach((element, index) => {\r\n                this.symbolList[index] = element.substring(0, element.length - 4);\r\n            });\r\n            this.filteredSymbols = this.symbolList;\r\n        });\r\n    }\r\n    getAllAssets(pid) {\r\n        this.service.getAllAssets(pid).subscribe(result => {\r\n            result.sort((a, b) => a.symbol.localeCompare(b.symbol));\r\n            this.assetList = result;\r\n            this.getAssetListPricesUrl();\r\n            console.log(this.assetList);\r\n        }, error => console.log(error));\r\n    }\r\n    postAsset(portfolioId, symbol, units) {\r\n        this.service.postAsset(portfolioId, symbol, units).subscribe(result => {\r\n            this.getAllAssets(this.portfolioId);\r\n        }, error => console.error(error));\r\n    }\r\n    toggleUpdateAsset(portfolioId, assetId, units, symbol) {\r\n        this.toggleShowUpdateAsset = true;\r\n        this.updatedAsset.portfolioId = portfolioId;\r\n        this.updatedAsset.assetId = assetId;\r\n        this.updatedAsset.units = units;\r\n        this.updatedAsset.symbol = symbol;\r\n    }\r\n    updateAsset(portfolioId, assetId, symbol, units) {\r\n        this.service.updateAsset(portfolioId, assetId, symbol, units).subscribe(result => {\r\n            this.getAllAssets(this.portfolioId);\r\n        }, error => console.log(error));\r\n        this.toggleShowUpdateAsset = false;\r\n    }\r\n    deleteAsset(portfolioId, assetId) {\r\n        this.service.deleteAsset(portfolioId, assetId).subscribe(result => {\r\n            this.getAllAssets(this.portfolioId);\r\n        }, error => console.log(error));\r\n        this.toggleShowUpdateAsset = false;\r\n    }\r\n    getAssetListPricesUrl() {\r\n        this.livePricesUrl = \"https://api.binance.com/api/v3/ticker/price?symbols=[\";\r\n        this.assetList.forEach(element => {\r\n            this.livePricesUrl = this.livePricesUrl + '\"' + element.symbol + \"USDT\" + '\"';\r\n            if (this.assetList[this.assetList.length - 1] == element) {\r\n                this.livePricesUrl = this.livePricesUrl + \"]\";\r\n            }\r\n            else {\r\n                this.livePricesUrl = this.livePricesUrl + \",\";\r\n            }\r\n        });\r\n        console.log(this.livePricesUrl);\r\n    }\r\n    async getAssetsPrice() {\r\n        while (true) {\r\n            this.service.getAssetsPrice(this.livePricesUrl).subscribe(result => {\r\n                result.forEach((element, index) => {\r\n                    result[index].symbol = element.symbol.substring(0, element.symbol.length - 4);\r\n                });\r\n                result.sort((a, b) => a.symbol.localeCompare(b.symbol));\r\n                for (let i = 0; i < this.assetList.length; i++) {\r\n                    this.assetList[i].livePrice = result[i].price;\r\n                }\r\n                // this.assetList.forEach(assetElement => {\r\n                //   result.forEach(resultElement => {\r\n                //     if (assetElement.symbol == resultElement.symbol) {\r\n                //       assetElement.livePrice = resultElement.price;\r\n                //       return;\r\n                //     }\r\n                //   });\r\n                // });\r\n            });\r\n            await this.delay(5000);\r\n        }\r\n    }\r\n    delay(ms) {\r\n        return new Promise(resolve => setTimeout(resolve, ms));\r\n    }\r\n}\r\nAssetsComponent.ɵfac = function AssetsComponent_Factory(t) { return new (t || AssetsComponent)(i0.ɵɵdirectiveInject(i1.AppDataService), i0.ɵɵdirectiveInject(i2.FormBuilder)); };\r\nAssetsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: AssetsComponent, selectors: [[\"app-assets\"]], features: [i0.ɵɵNgOnChangesFeature], decls: 6, vars: 2, consts: [[\"class\", \"container\", 4, \"ngIf\"], [\"class\", \"btn btn-primary\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"container\"], [1, \"row\"], [1, \"col-9\"], [1, \"table\"], [1, \"col-1\"], [1, \"col-2\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-3\"], [1, \"mb-5\"], [3, \"formGroup\", \"ngSubmit\"], [\"formControlName\", \"symbol\", \"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Symbol\", 1, \"form-control\", 3, \"matAutocomplete\"], [\"symbol\", \"\"], [\"auto\", \"matAutocomplete\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"number\", \"min\", \"0\", \"placeholder\", \"Units\", 1, \"form-control\"], [\"units\", \"\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"mt-3\"], [1, \"mt-3\"], [3, \"ngSubmit\", 4, \"ngIf\"], [3, \"value\"], [3, \"ngSubmit\"], [\"submitForm\", \"ngForm\"], [\"for\", \"assetId\", \"hidden\", \"\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"assetId\", \"name\", \"assetId\", \"disabled\", \"\", \"hidden\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"assetId\", \"\"], [\"for\", \"portfolioId\", \"hidden\", \"\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"portfolioId\", \"name\", \"portfolioId\", \"disabled\", \"\", \"hidden\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"localportfolioId\", \"\"], [\"for\", \"symbol\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"symbol\", \"name\", \"symbol\", \"disabled\", \"\", 1, \"form-control\", 3, \"ngModel\"], [\"for\", \"units\", 1, \"form-label\"], [\"type\", \"number\", \"id\", \"units\", \"name\", \"units\", 1, \"form-control\", 3, \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mt-3\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", \"mt-3\", \"float-end\", 3, \"click\"]], template: function AssetsComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵtemplate(0, AssetsComponent_div_0_Template, 35, 5, \"div\", 0);\r\n        i0.ɵɵtemplate(1, AssetsComponent_button_1_Template, 2, 0, \"button\", 1);\r\n        i0.ɵɵelementStart(2, \"button\", 2);\r\n        i0.ɵɵlistener(\"click\", function AssetsComponent_Template_button_click_2_listener() { return ctx.getAssetListPricesUrl(); });\r\n        i0.ɵɵtext(3, \"get assets url\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(4, \"button\", 2);\r\n        i0.ɵɵlistener(\"click\", function AssetsComponent_Template_button_click_4_listener() { return ctx.getAssetsPrice(); });\r\n        i0.ɵɵtext(5, \"get assets json\");\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵproperty(\"ngIf\", ctx.assetList);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.assetList);\r\n    } }, directives: [i3.NgIf, i3.NgForOf, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i2.FormGroupDirective, i4.MatFormField, i2.DefaultValueAccessor, i5.MatInput, i6.MatAutocompleteTrigger, i2.NgControlStatus, i2.FormControlName, i6.MatAutocomplete, i7.MatOption, i2.NgForm, i2.NumberValueAccessor, i2.NgModel], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJhc3NldHMuY29tcG9uZW50LmNzcyJ9 */\"] });\r\n"]},"metadata":{},"sourceType":"module"}